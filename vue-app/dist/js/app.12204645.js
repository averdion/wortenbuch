(function(t){function e(e){for(var r,i,o=e[0],u=e[1],c=e[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],r=!0,o=1;o<s.length;o++){var u=s[o];0!==a[u]&&(r=!1)}r&&(n.splice(e--,1),t=i(i.s=s[0]))}return t}var r={},a={app:0},n=[];function i(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=r,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var l=u;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var r=s("64a9"),a=s.n(r);a.a},"0717":function(t,e,s){"use strict";var r=s("a9ab"),a=s.n(r);a.a},"1a2e":function(t,e,s){"use strict";var r=s("205e"),a=s.n(r);a.a},"205e":function(t,e,s){},2248:function(t,e,s){"use strict";var r=s("6fde"),a=s.n(r);a.a},"2e73":function(t,e,s){"use strict";var r=s("efe5"),a=s.n(r);a.a},"30f3":function(t,e,s){},3268:function(t,e,s){},"3dfd":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",[s("navigation",{on:{logout:t.Logout}})],1),s("div",[s("router-view",{on:{"login:user":t.Login}})],1)])},a=[],n=(s("96cf"),s("3b8d")),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"navbar navbar-expand navbar-dark flex-column flex-md-row bg-primary"},[t._m(0),s("div",{staticClass:"navbar-nav-scroll"},[s("ul",{staticClass:"navbar-nav bd-navbar-nav flex-row"},[s("li",{staticClass:"nav-item"},["/login"==t.activeroute||"/"==t.activeroute?s("router-link",{staticClass:"nav-link active",attrs:{to:"/"}},[t._v("Login")]):s("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("Login")])],1),(t.logged,s("li",{staticClass:"nav-item"},["/words"==t.activeroute?s("router-link",{staticClass:"nav-link active",attrs:{to:"/words"}},[t._v("Words")]):s("router-link",{staticClass:"nav-link",attrs:{to:"/words"}},[t._v("Words")])],1)),t.permission?s("li",{staticClass:"nav-item"},["/users"==t.activeroute?s("router-link",{staticClass:"nav-link active",attrs:{to:"/users"}},[t._v("Usuarios")]):s("router-link",{staticClass:"nav-link",attrs:{to:"/users"}},[t._v("Usuarios")])],1):s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link disabled",attrs:{to:"/users"}},[t._v("Usuarios")])],1)])]),s("ul",{staticClass:"navbar-nav flex-row ml-md-auto d-none d-md-flex"}),s("user-information",{on:{logout:function(e){return t.$emit("logout")}}})],1)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"navbar-brand mr-0 mr-md-2",attrs:{href:"/"}},[s("img",{attrs:{src:"/img/logo.png"}})])}],u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.logged?s("div",{staticClass:"btn-group"},[s("button",{staticClass:"btn btn-primary dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n        "+t._s(this.$store.state.LoggedUser.name)+"\n      ")]),s("div",{staticClass:"dropdown-menu"},[s("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("logout")}}},[t._v("Logout "),s("i",{staticClass:"material-icons align-middle"},[t._v("exit_to_app")])])])]):t._e()},c=[],l={name:"user-information",computed:{logged:function(){return this.$store.state.LoggedUser.userId}}},d=l,p=s("2877"),v=Object(p["a"])(d,u,c,!1,null,null,null),m=v.exports,h={name:"navigation",components:{UserInformation:m},computed:{permission:function(){return 4==this.$store.state.LoggedUser.type},logged:function(){return this.$store.state.LoggedUser.userId},activeroute:function(){return this.$route.path}}},f=h,g=(s("5e40"),Object(p["a"])(f,i,o,!1,null,"68aa800a",null)),b=g.exports,_={name:"app",components:{Navigation:b},data:function(){return{loggeduser:{}}},beforeMount:function(){this.getLoggedUser()},methods:{getLoggedUser:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(this.$store.state.domain+"/api/auth/loggeduser",{method:"GET",credentials:"include"});case 3:return e=t.sent,t.next=6,e.json();case 6:s=t.sent,200==e.status?(this.loggeduser=s.embeds["rl:entries"],this.$store.state.LoggedUser=this.loggeduser):(this.loggeduser={name:"Anonimo",type:0},this.$router.push("/login",(function(){}))),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),this.loggeduser={name:"Anonimo",type:0},this.$router.push("/login",(function(){}));case 14:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}(),Login:function(){this.$router.push("/clockin",(function(){}))},Logout:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(this.$store.state.domain+"/api/auth/logout",{method:"GET",credentials:"include"});case 3:e=t.sent,200==e.status&&(this.$store.state.LoggedUser={userId:0,type:0},this.$router.push("/login",(function(){}))),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),this.$store.state.LoggedUser={userId:0,type:0},this.$router.push("/login",(function(){}));case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()}},w=_,y=(s("034f"),Object(p["a"])(w,r,a,!1,null,null,null));e["a"]=y.exports},"520e":function(t,e,s){"use strict";var r=s("30f3"),a=s.n(r);a.a},"56d7":function(t,e,s){"use strict";s.r(e),function(t){s("cadf"),s("551c"),s("f751"),s("097d");var e=s("2b0e"),r=s("f3df"),a=s("ff0f"),n=s("8c4f"),i=s("3dfd");e["a"].config.productionTip=!1,e["a"].use(n["a"]);var o=new n["a"]({mode:"history",base:t,saveScrollPosition:!0,routes:a["a"]});new e["a"]({router:o,store:r["a"],render:function(t){return t(i["a"])}}).$mount("#app")}.call(this,"/")},5807:function(t,e,s){},"5e40":function(t,e,s){"use strict";var r=s("3268"),a=s.n(r);a.a},"64a9":function(t,e,s){},6735:function(t,e,s){},"6fde":function(t,e,s){},8363:function(t,e,s){"use strict";var r=s("5807"),a=s.n(r);a.a},a9ab:function(t,e,s){},efe5:function(t,e,s){},f3df:function(t,e,s){"use strict";var r=s("2b0e"),a=s("2f62");r["a"].use(a["a"]);var n={LoggedUser:{userId:0,type:0},domain:"http://localhost:8000"},i={updateLoggedUser:function(t){n.LoggedUser=t}};e["a"]=new a["a"].Store({state:n,mutations:i})},fd39:function(t,e,s){"use strict";var r=s("6735"),a=s.n(r);a.a},ff0f:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card text-center",attrs:{id:"login"}},[s("div",{staticClass:"card-header"},[t._v("\n    Login\n    ")]),s("div",{staticClass:"card-body"},[s("user-list",{attrs:{users:t.users},on:{autologin:t.autoLogin,"login:user":t.login}})],1)])},a=[],n=(s("96cf"),s("3b8d")),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"user-list"}},[t.users.length<1?s("p",{staticClass:"empty-list"},[t._v("\n  No hay usuarios registrados\n  ")]):s("div",t._l(t.users,(function(e){return s("div",{key:e.userId},[s("user-item",{attrs:{user:e},on:{"login:user":t.login,autologin:t.autoLogin,hideControls:t.hideControls}})],1)})),0)])},o=[],u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:"card user float-left "+t.loggedClass(t.user),attrs:{id:"user-"+t.user.userId}},[s("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[s("a",{attrs:{"data-toggle":"collapse",href:"#collapseExample",role:"button","aria-expanded":"false","aria-controls":"collapseExample"},on:{dblclick:function(e){return t.autoLogin(t.user)},click:function(e){return t.showControls(t.user.userId)}}},[s("h2",[t._v(t._s(t.user.name))]),t.user.logged?s("div",{staticClass:"connectedmark"},[s("i",{staticClass:"material-icons"},[t._v("alarm_on")])]):s("div",{staticClass:"connectedmark"},[s("i",{staticClass:"material-icons disabled"},[t._v("alarm_off")])]),s("div",[s("img",{attrs:{src:"/userimages/"+t.user.imageurl}})])]),s("div",{staticClass:"collapse",attrs:{id:"buttonbox-"+t.user.userId}},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],ref:"password-"+t.user.userId,attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",[s("button",{staticClass:"btn btn-bd-primary",on:{click:function(e){return e.preventDefault(),t.handleSubmit()}}},[s("i",{staticClass:"material-icons align-bottom"},[t._v("exit_to_app")]),t._v(" Entrar")])]),403===this.validation.status?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[s("span",[t._v(t._s(this.validation.message))])]):t._e()])])])},c=[],l={name:"user-item",props:{user:{}},data:function(){return{password:"",validation:{status:200},Loggeduser:this.$store.state.LoggedUser}},mounted:function(){},methods:{handleSubmit:function(){this.submitting=!0,this.clearStatus(),this.invalidName||this.invalidEmail?this.error=!0:(this.$emit("login:user",this.user.username,this.password,this),this.$refs["password-"+this.user.userId].focus(),this.error=!1,this.success=!0,this.submitting=!1)},clearStatus:function(){this.success=!1,this.error=!1},autoLogin:function(t){t.autologin&&this.$emit("autologin",t.userId)},showControls:function(t){this.$emit("hideControls"),$("#buttonbox-"+this.user.userId).collapse("show"),this.$refs["password-"+t].focus()},validate:function(t){this.validation=t},loggedClass:function(t){return this.Loggeduser.userId==t.userId?"logged":""}}},d=l,p=(s("fd39"),s("2877")),v=Object(p["a"])(d,u,c,!1,null,"f5fe6036",null),m=v.exports,h={name:"user-list",props:{users:Array},components:{UserItem:m},data:function(){return{}},mounted:function(){this.data=this.users,this.hideControls()},methods:{login:function(t,e,s){this.$emit("login:user",t,e,s)},autoLogin:function(t){this.$emit("autologin",t)},hideControls:function(){for(var t in this.users)$("#buttonbox-"+this.users[t].userId).collapse("hide")}}},f=h,g=Object(p["a"])(f,i,o,!1,null,"51a962b4",null),b=g.exports,_={name:"Login",components:{UserList:b},props:["LoggedUser"],data:function(){return{users:[]}},mounted:function(){this.getUsers()},methods:{getUsers:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(this.$store.state.domain+"/api/users",{method:"GET",credentials:"include"});case 3:return e=t.sent,t.next=6,e.json();case 6:s=t.sent,this.users=s._embedded["rl:entries"],t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),this.users=[];case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}(),login:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,s,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(this.$store.state.domain+"/api/auth/login?username="+e+"&password="+s,{method:"GET",credentials:"include"});case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,403==a.status?(n["status"]=403,n["message"]="Contraseña incorrecta",r.validate(n)):(this.$store.state.LoggedUser=n.embeds["rl:entries"],this.$emit("Login"),this.$router.push("/words",(function(){}))),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),r.validate({status:403,message:"Se produjo un error"});case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(e,s,r){return t.apply(this,arguments)}return e}(),autoLogin:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(this.$store.state.domain+"/api/auth/autologin?userId="+e,{method:"GET",credentials:"include"});case 3:return s=t.sent,t.next=6,s.json();case 6:r=t.sent,403==s.status?(r["status"]=403,r["message"]="AutoLogin no permitido"):this.getUsers(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log({status:403,message:"Se produjo un error"});case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(e){return t.apply(this,arguments)}return e}()}},w=_,y=Object(p["a"])(w,r,a,!1,null,null,null),x=y.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card text-center",attrs:{id:"words"}},[s("div",{staticClass:"card-header"},[t._v("\n      Word list\n    ")]),s("div",{staticClass:"card-body"},[s("word-list",{attrs:{words:t.words,numresults:t.numresults,updateflag:t.updateflag,users:t.users},on:{"delete:word":t.deleteWord,"select:page":t.selectPage,"save:word":t.saveWord,"search:words":t.getWords}})],1)])},k=[],D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"word-table"}},[t.words.length<1?s("div",{staticClass:"empty-table"},[s("word-editor",{on:{"save:word":t.saveWord}}),s("word-search",{on:{"search:words":t.searchWords}}),4==t.LoggedUser.type?s("user-selector",{attrs:{users:t.users},on:{"select:user":t.selectUser}}):t._e(),s("p",[t._v("\n      Words not found\n    ")])],1):s("div",[s("word-editor",{on:{"save:word":t.saveWord}}),s("word-search",{on:{"search:words":t.searchWords}}),s("user-selector",{attrs:{users:t.users},on:{"select:user":t.selectUser}}),t._l(t.words,(function(e){return[s("word-item",{key:"word-"+e.wordId,attrs:{Word:e},on:{"delete:word":t.deleteWord,"save:word":t.saveWord}})]})),s("pagination",{attrs:{pages:t.pages},on:{"select:page":t.selectPage}})],2)])},U=[],I=(s("6c7b"),s("c5f6"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{border:"1px solid black",float:"left",padding:"0.5em",margin:"1.5em"}},[t.loggedId==t.word.userId?s("span",[s("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.deleteWord(t.Word)}}},[t._v("X")])]):t._e(),s("div",[s("strong",[t._v(t._s(t.word.text))]),t._v(" ("),s("em",[t._v(t._s(t.word.type))]),t._v(")")]),s("div",[t._v(t._s(t.word.translation))])])}),j=[],L={name:"word-item",props:{Word:Object,PreviousWord:Object},data:function(){return{editing:null,word:this.Word,loggeduser:this.$store.state.LoggedUser,endclass:""}},updated:function(){this.editing&&(this.setCalendar("startdate-"+this.word.wordId,this.word.start),this.setCalendar("enddate-"+this.word.wordId,this.word.end))},methods:{deleteWord:function(t){confirm("are you sure you want to delete "+t.text+"?")&&this.$emit("delete:word",t.wordId)}},computed:{loggedId:function(){return this.$store.state.LoggedUser.userId}}},E=L,O=(s("8363"),Object(p["a"])(E,I,j,!1,null,"7fe5c658",null)),W=O.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("form",{staticClass:"form-inline"},[s("div",{staticClass:"input-group mb-3"},[s("label",{attrs:{for:"fromdate"}},[t._v("Word")]),s("div",{staticClass:"input-group-append searchcontrol"},[s("input",{ref:"text",attrs:{type:"text",id:"text"}})])]),s("div",{staticClass:"input-group mb-3"},[s("label",{attrs:{for:"lang"}},[t._v("Language")]),s("div",{staticClass:"input-group-append searchcontrol"},[s("span",{attrs:{id:"viewnumber"}},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.searchData.lang,expression:"searchData.lang"}],ref:"lang",staticClass:"form-control form-control-sm",attrs:{id:"lang"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.searchData,"lang",e.target.multiple?s:s[0])}}},[s("option",{attrs:{selected:"selected",value:"de"}},[t._v("Deutsch")]),s("option",{attrs:{value:"en"}},[t._v("English")]),s("option",{attrs:{value:"fr"}},[t._v("Français")]),s("option",{attrs:{value:""}},[t._v("all")])])])])]),s("div",{staticClass:"input-group mb-3"},[s("label",{attrs:{for:"type"}},[t._v("Type")]),s("div",{staticClass:"input-group-append searchcontrol"},[s("span",{attrs:{id:"viewnumber"}},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.searchData.type,expression:"searchData.type"}],ref:"type",staticClass:"form-control form-control-sm",attrs:{id:"type"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.searchData,"type",e.target.multiple?s:s[0])}}},[s("option",{attrs:{selected:"selected",value:"nouns"}},[t._v("Nouns")]),s("option",{attrs:{value:"verbs"}},[t._v("Verbs")]),s("option",{attrs:{value:"prepositions"}},[t._v("Prepositions")]),s("option",{attrs:{value:""}},[t._v("all")])])])])]),s("div",{staticClass:"input-group mb-3"},[s("label",{attrs:{for:"numresults"}},[t._v("Show")]),s("div",{staticClass:"input-group-append searchcontrol"},[s("span",{attrs:{id:"viewnumber"}},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.searchData.entriesperpage,expression:"searchData.entriesperpage"}],staticClass:"form-control form-control-sm",attrs:{id:"numresults"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.searchData,"entriesperpage",e.target.multiple?s:s[0])}}},[s("option",{attrs:{selected:"selected",value:"30"}},[t._v("30")]),s("option",{attrs:{value:"50"}},[t._v("50")]),s("option",{attrs:{value:"0"}},[t._v("all")])])])])]),s("button",{staticClass:"btn btn-bd-primary searchbutton",on:{click:function(e){return e.preventDefault(),t.searchWords(e)}}},[t._v("Search")])])])},P=[],R={name:"word-search",data:function(){return{searchData:{userId:0,text:"",lang:"de",type:"",wordsperpage:30,page:0}}},methods:{searchWords:function(){this.searchData.text=this.$refs["text"].value,this.searchData.type=this.$refs["type"].value,this.searchData.lang=this.$refs["lang"].value,this.searchData.page=0,this.$emit("search:words",this.searchData)}}},S=R,T=(s("0717"),Object(p["a"])(S,N,P,!1,null,"9b92b21e",null)),A=T.exports,G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"collapse",href:"#newword","aria-expanded":"false","aria-controls":"newword"}},[t._v("\n  Add word\n")]),s("div",{staticClass:"collapse",attrs:{id:"newword"}},[s("form",{staticClass:"form-outline"},[s("div",{staticClass:"input-group mb-3"},[s("label",{attrs:{for:"text"}},[t._v("Word")]),s("div",{staticClass:"input-group-append searchcontrol"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.saveData.text,expression:"saveData.text"}],ref:"text",attrs:{type:"text",id:"text"},domProps:{value:t.saveData.text},on:{input:function(e){e.target.composing||t.$set(t.saveData,"text",e.target.value)}}})])]),s("div",{staticClass:"input-group mb-3"},[s("label",{attrs:{for:"translation"}},[t._v("Translation")]),s("div",{staticClass:"input-group-append searchcontrol"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.saveData.translation,expression:"saveData.translation"}],ref:"translation",attrs:{type:"text",id:"translation"},domProps:{value:t.saveData.translation},on:{input:function(e){e.target.composing||t.$set(t.saveData,"translation",e.target.value)}}})])]),s("div",{staticClass:"input-group mb-3"},[s("label",{attrs:{for:"lang"}},[t._v("Lang")]),s("div",{staticClass:"input-group-append searchcontrol"},[s("span",{attrs:{id:"viewnumber"}},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.saveData.lang,expression:"saveData.lang"}],ref:"lang",staticClass:"form-control form-control-sm",attrs:{id:"lang"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.saveData,"lang",e.target.multiple?s:s[0])}}},[s("option",{attrs:{selected:"selected",value:"de"}},[t._v("Deutsch")]),s("option",{attrs:{value:"en"}},[t._v("English")]),s("option",{attrs:{value:"fr"}},[t._v("Français")]),s("option",{attrs:{value:""}},[t._v("all")])])])])]),s("div",[s("div",{staticClass:"input-group mb-3"},[s("div",{staticClass:"btn-list",attrs:{role:"group","aria-label":"Basic example"}},[s("a",{staticClass:"badge badge-primary",attrs:{href:"#",id:"Nm"},on:{click:function(e){return e.preventDefault(),t.markType("Nm")}}},[t._v("Nm")]),s("a",{staticClass:"badge badge-primary",attrs:{href:"#",id:"Nf"},on:{click:function(e){return e.preventDefault(),t.markType("Nf")}}},[t._v("Nf")]),s("a",{staticClass:"badge badge-primary",attrs:{href:"#",id:"Nt"},on:{click:function(e){return e.preventDefault(),t.markType("Nt")}}},[t._v("Nt")]),s("a",{staticClass:"badge badge-primary",attrs:{href:"#",id:"Npl"},on:{click:function(e){return e.preventDefault(),t.markType("Npl")}}},[t._v("Npl")]),s("a",{staticClass:"badge badge-primary",attrs:{href:"#",id:"Verb"},on:{click:function(e){return e.preventDefault(),t.markType("Verb")}}},[t._v("Verb")]),s("a",{staticClass:"badge badge-primary",attrs:{href:"#",id:"Conj"},on:{click:function(e){return e.preventDefault(),t.markType("Conj")}}},[t._v("Conj")]),s("a",{staticClass:"badge badge-primary",attrs:{href:"#",id:"Pron"},on:{click:function(e){return e.preventDefault(),t.markType("Pron")}}},[t._v("Pron")])])])]),s("button",{staticClass:"btn btn-bd-primary",on:{click:function(e){return e.preventDefault(),t.saveWord(e)}}},[t._v("Save")])])])])},M=[],q={name:"word-editor",data:function(){return{saveData:{wordId:0,text:"",translation:"",lang:"de",type:"Nm",userId:0}}},methods:{markType:function(t){this.saveData.type=t,$(".badge").removeClass("badge-secondary"),$(".badge").addClass("badge-primary"),$("#"+t).removeClass("badge-primary"),$("#"+t).addClass("badge-secondary")},saveWord:function(){this.saveData.text=this.$refs["text"].value,this.saveData.translation=this.$refs["translation"].value,this.saveData.lang=this.$refs["lang"].value,this.$emit("save:word",this.saveData)}}},V=q,F=(s("520e"),Object(p["a"])(V,G,M,!1,null,"f30e9b8e",null)),J=F.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.permission?s("div",{attrs:{id:"user-list"}},[t.users.length<1?s("p",{staticClass:"empty-list"},[t._v("\n  loading...\n  ")]):s("div",{staticClass:"btn-group",attrs:{role:"group"}},[s("ul",{staticClass:"nav nav-pills"},t._l(t.users,(function(e){return s("li",{key:"userselector-"+e.userId,staticClass:"nav-item"},[s("span",[t.activeuser.userId==e.userId?s("button",{staticClass:"nav-link btn btn-primary active",attrs:{href:"#"},on:{click:function(s){return t.selectUser(e)}}},[t._v(t._s(e.name))]):s("button",{staticClass:"nav-link btn btn-primary",attrs:{href:"#"},on:{click:function(s){return t.selectUser(e)}}},[t._v(t._s(e.name))])])])})),0)])]):t._e()},X=[],z={name:"user-selector",props:{users:Array},data:function(){return{activeuser:this.$store.state.LoggedUser}},methods:{selectUser:function(t,e){this.$emit("select:user",t),this.activeuser=t}},computed:{permission:function(){return 4==this.$store.state.LoggedUser.type}}},H=z,K=Object(p["a"])(H,B,X,!1,null,"394febca",null),Q=K.exports,Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.pages.length>0?s("div",{attrs:{id:"pagination"}},[s("nav",{attrs:{"aria-label":"Page navigation"}},[s("ul",{staticClass:"pagination justify-content-center"},t._l(t.pages,(function(e){return s("li",{key:"page-"+e,staticClass:"page-item"},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.selectPage(e)}}},[t._v(t._s(e)+" "),t.currentpage==e?s("span",{staticClass:"sr-only"},[t._v("(current)")]):t._e()])])})),0)])]):t._e()},Z=[],tt={name:"pagination",props:{pages:Array},data:function(){return{currentpage:0}},methods:{selectPage:function(t){this.$emit("select:page",t),this.currentpage=t}}},et=tt,st=Object(p["a"])(et,Y,Z,!1,null,"5866f8f6",null),rt=st.exports,at={name:"word-list",components:{WordItem:W,WordSearch:A,WordEditor:J,UserSelector:Q,Pagination:rt},props:{words:Array,users:Array,updateflag:{type:Boolean,default:!1},numresults:{type:Number,default:0}},data:function(){return{editing:null,searchData:{userId:0,text:"",type:"",lang:"de",wordsperpage:30,page:0},saveData:{userId:0,text:"",translation:"",type:"",lang:"de",wordsperpage:30,page:0},pages:[],loggeduser:this.$store.state.LoggedUser}},mounted:function(){this.searchData.userId=this.$store.state.LoggedUser.userId,this.saveData.userId=this.$store.state.LoggedUser.userId},methods:{searchWords:function(t){this.searchData.text=t.text,this.searchData.type=t.type,this.searchData.lang=t.lang,this.searchData.wordsperpage=t.wordsperpage,this.searchData.page=t.page,this.$emit("search:words",this.searchData)},deleteWord:function(t){this.$emit("delete:word",t)},saveWord:function(t){this.saveData.text=t.text,this.saveData.translation=t.translation,this.saveData.type=t.type,this.saveData.lang=t.lang,this.$emit("save:word",this.saveData)},selectUser:function(t){this.searchData.userId=t.userId,this.$emit("search:words",this.searchData)},selectPage:function(t){this.searchData.page=t,this.$emit("search:words",this.searchData)},generatePages:function(){this.searchData.wordsperpage>0&&this.numresults>this.searchData.wordsperpage?this.pages=Array(Math.ceil(this.numresults/this.searchData.wordsperpage)).fill(null).map((function(t,e){return e})):this.pages=[]}},computed:{LoggedUser:function(){return this.$store.state.LoggedUser},listpages:function(){return this.pages}},watch:{updateflag:function(){this.generatePages()}}},nt=at,it=(s("2248"),Object(p["a"])(nt,D,U,!1,null,"5b711a2e",null)),ot=it.exports,ut={name:"words",components:{WordList:ot},data:function(){return{words:[],users:[],numresults:0,updateflag:!0,user:{userId:!1},searchData:{userId:0,text:"",type:"",lang:"",wordsperpage:30,page:0},saveData:{wordId:0,userId:0,text:"",translation:"",type:"",lang:""}}},beforeMount:function(){this.searchData.userId=this.$store.state.LoggedUser.userId,this.saveData.userId=this.$store.state.LoggedUser.userId,this.getWords(this.searchData),this.getUsers()},methods:{saveWord:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.$store.state.domain+"/api/words/save?"+$.param(e),{method:"GET",credentials:"include"});case 2:s=t.sent,200==s.status&&this.getWords(this.searchData);case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),deleteWord:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(this.$store.state.domain+"/api/words/delete?wordId="+e,{method:"GET",credentials:"include"});case 3:this.getEntries(this.searchData),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.error(t.t0);case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(e){return t.apply(this,arguments)}return e}(),getUsers:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(this.$store.state.domain+"/api/users",{method:"GET",credentials:"include"});case 3:return e=t.sent,t.next=6,e.json();case 6:s=t.sent,this.users=s._embedded["rl:entries"],t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}(),getWords:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(this.$store.state.domain+"/api/words?userId="+e.userId+"&text="+e.text+"&type="+e.type+"&lang="+e.lang+"&numwords="+e.wordsperpage+"&page="+e.page,{method:"GET",credentials:"include"});case 3:return s=t.sent,t.next=6,s.json();case 6:r=t.sent,this.words=r._embedded["rl:entries"],this.countWords(e),this.updateflag=!this.updateflag,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.error(t.t0);case 15:case"end":return t.stop()}}),t,this,[[0,12]])})));function e(e){return t.apply(this,arguments)}return e}(),countWords:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(this.$store.state.domain+"/api/words/countwords?userId="+e.userId+"&text="+e.text+"&type="+e.type+"&lang="+e.lang,{method:"GET",credentials:"include"});case 3:return s=t.sent,t.next=6,s.json();case 6:r=t.sent,this.numresults=r._embedded["rl:results"][0].numresults,this.updateflag=!this.updateflag,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));function e(e){return t.apply(this,arguments)}return e}(),selectPage:function(t){this.getEntries(t)}}},ct=ut,lt=Object(p["a"])(ct,C,k,!1,null,null,null),dt=lt.exports,pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"users"}},[s("div",{staticClass:"card-header"},[t._v("\n      Usuarios\n    ")]),s("div",{staticClass:"card-body"},[s("user-form",{attrs:{editinguser:t.editinguser},on:{"save:user":t.saveUser}}),s("user-table",{attrs:{users:t.users},on:{"delete:user":t.deleteUser,"edit:user":t.editUser}})],1)])},vt=[],mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"user-table"}},[t.users.length<1?s("p",{staticClass:"empty-table"},[t._v("\n  No users\n  ")]):s("table",{staticClass:"table table-striped table-bordered"},[t._m(0),s("tbody",t._l(t.users,(function(e){return s("tr",{key:e.userId},[s("td",[t._v(t._s(e.name))]),s("td",[t._v(t._s(e.email))]),s("td",[s("button",{staticClass:"btn btn-link",on:{click:function(s){return t.editMode(e)}}},[t._v("Edit")]),s("button",{staticClass:"btn btn-link",on:{click:function(s){return t.$emit("delete:user",e.userId,e.name)}}},[t._v("Delete")])])])})),0)])])},ht=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"thead-light"},[s("tr",[s("th",[t._v("Nombre")]),s("th",[t._v("Email")]),s("th",[t._v("Actions")])])])}],ft=(s("7f7f"),{name:"user-table",props:{users:Array},data:function(){return{editing:null}},methods:{editMode:function(t){t.password="@@nopassword@@",this.editing=t.userId,this.$emit("edit:user",t)},editUser:function(t){""!==t.name&&""!==t.email&&(this.$emit("edit:user",t.userId,t),this.editing=null)}}}),gt=ft,bt=(s("1a2e"),Object(p["a"])(gt,mt,ht,!1,null,"f25d1588",null)),_t=bt.exports,wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"needs-validation",on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[s("div",{attrs:{id:"container-user-form"}},[t._m(0),s("div",{staticClass:"col-sm-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],ref:"first",staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})]),t._m(1),s("div",{staticClass:"col-sm-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),t._m(2),s("div",{staticClass:"col-sm-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.type,expression:"user.type"}],attrs:{type:"radio",id:"user",value:"0"},domProps:{checked:t._q(t.user.type,"0")},on:{change:function(e){return t.$set(t.user,"type","0")}}}),s("label",{attrs:{for:"user"}},[t._v("usuario")]),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.type,expression:"user.type"}],attrs:{type:"radio",id:"admin",value:"4"},domProps:{checked:t._q(t.user.type,"4")},on:{change:function(e){return t.$set(t.user,"type","4")}}}),s("label",{attrs:{for:"admin"}},[t._v("Administrador")])]),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.autologin,expression:"user.autologin"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"autologin"},domProps:{checked:Array.isArray(t.user.autologin)?t._i(t.user.autologin,null)>-1:t.user.autologin},on:{change:function(e){var s=t.user.autologin,r=e.target,a=!!r.checked;if(Array.isArray(s)){var n=null,i=t._i(s,n);r.checked?i<0&&t.$set(t.user,"autologin",s.concat([n])):i>-1&&t.$set(t.user,"autologin",s.slice(0,i).concat(s.slice(i+1)))}else t.$set(t.user,"autologin",a)}}}),s("label",{staticClass:"form-check-label",attrs:{for:"autologin"}},[t._v("Autologin")])]),t._m(3),s("div",{staticClass:"col-sm-3 last-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.maxtime,expression:"user.maxtime"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.user.maxtime},on:{input:function(e){e.target.composing||t.$set(t.user,"maxtime",e.target.value)}}})]),t._m(4),s("div",{staticClass:"col-sm-3 last-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.extratime,expression:"user.extratime"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.user.extratime},on:{input:function(e){e.target.composing||t.$set(t.user,"extratime",e.target.value)}}})]),t.successmodified?s("div",{staticClass:"alert alert-success"},[t._v("\n        \t✅ Usuario modificado correctamente.\n          "),t._m(5)]):t._e(),t.successadd?s("div",{staticClass:"alert alert-success"},[t._v("\n          ✅ Usuario añadido correctamente.\n          "),t._m(6)]):t._e(),t.editing?s("div",[s("button",{staticClass:"btn btn-bd-primary"},[t._v("Guardar cambios")]),s("button",{staticClass:"btn btn-bd-primary",on:{click:function(e){return e.preventDefault(),t.clearStatus()}}},[t._v("Cancelar")])]):s("button",{staticClass:"btn btn-bd-primary"},[t._v("Nuevo Usuario")])])])},yt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("label",[t._v("Nombre")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("label",[t._v("Password")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("label",[t._v("Email")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("label",[t._v("Jornada  Laboral (horas)")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("label",[t._v("Ajuste horario (minutos)")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Cerrar"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Cerrar"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],xt={name:"user-form",props:["editinguser"],data:function(){return{editing:!1,submitting:!1,error:!1,successmodified:!1,successadd:!1,user:{name:"",email:""}}},watch:{editinguser:function(t){this.user=t,this.editing=!0}},methods:{handleSubmit:function(){this.submitting=!0,this.successmodified=!1,this.successadd=!1,this.$emit("save:user",this.user),this.$refs.first.focus(),this.user.userId?this.successmodified=!0:this.successadd=!0,this.clearStatus()},clearStatus:function(){this.error=!1,this.submitting=!1,this.editing=!1,this.user={name:"",email:""}}}},Ct=xt,$t=(s("2e73"),Object(p["a"])(Ct,wt,yt,!1,null,"984bcc52",null)),kt=$t.exports,Dt={name:"users",components:{UserTable:_t,UserForm:kt},props:["LoggedUser"],data:function(){return{users:[],editinguser:{}}},mounted:function(){this.$store.state.LoggedUser&&0!=this.$store.state.LoggedUser.type||this.$router.push("/login",(function(){})),this.getUsers()},methods:{saveUser:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(this.$store.state.domain+"/api/users/save?"+$.param(e),{method:"GET",credentials:"include"});case 3:return s=t.sent,t.next=6,s.json();case 6:t.sent,this.getUsers(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(e){return t.apply(this,arguments)}return e}(),editUser:function(t){this.editinguser=t},deleteUser:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("¿Seguro que quieres borrar a "+s+"?")){t.next=11;break}return t.prev=1,t.next=4,fetch(this.$store.state.domain+"/api/users/delete?userId="+e,{method:"GET",credentials:"include"});case 4:t.sent,this.users=this.users.filter((function(t){return t.userId!=e})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.error(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(e,s){return t.apply(this,arguments)}return e}(),getUsers:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(this.$store.state.domain+"/api/users");case 3:return e=t.sent,t.next=6,e.json();case 6:s=t.sent,this.users=s._embedded["rl:entries"],t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}()}},Ut=Dt,It=Object(p["a"])(Ut,pt,vt,!1,null,null,null),jt=It.exports;e["a"]=[{path:"/",component:x},{path:"/login",component:x},{path:"/words",component:dt},{path:"/users",component:jt}]}});
//# sourceMappingURL=app.12204645.js.map